<ion-header>
  <ion-navbar>
    <ion-title>
      Ionic Blank
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div>
    <h2>Ma position</h2>
  </div>
  <div *ngIf="!geolocationError && !localWeatherError">
    <ion-spinner *ngIf="!localWheather" name="bubbles" class="spinner-calm"></ion-spinner>
    <weather-min
      #weatherMinComponent
      *ngIf="localWheather"
      [cityName]="localWheather.name"
      [weatherIcon]="localWheather.weather[0].icon"
      [temperature]="localWheather.main.temp"
      (click)="itemClick(localWheather.id)"></weather-min>
  </div>
  <p *ngIf="geolocationError" class="error">Erreur lors de la géolocalisaton</p>
  <p *ngIf="localWeatherError" class="error">Erreur lors de la récupération des informations météo</p>
  <div>
    <h2>Favoris</h2>
  </div>
  <div *ngIf="!favoriteCitiesWeatherError">
    <ion-spinner *ngIf="!favoriteCitiesWeather" name="bubbles" class="spinner-calm"></ion-spinner>
    <div *ngFor="let city of favoriteCitiesWeather">
        <weather-min
          #weatherMinComponent
          [cityName]="city.name"
          [weatherIcon]="city.weather[0].icon"
          [temperature]="city.main.temp"
          (click)="itemClick(city.id)"></weather-min>
    </div>
  </div>
  <p *ngIf="favoriteCitiesWeatherError" class="error">Erreur lors de la récupération des informations météo</p>
</ion-content>
